{% extends 'base.html' %}

{% block heading%}
	<div class="container-fluid">				
		<div class="row">
			<div class="col">
				<h6 class="float-left">{{ user.get_short_name }}'s Dashboard</h6>
				<small class="float-right"><i>Today is {{ currentDate }}</i></small>
			</div>
		</div>
	</div>
{% endblock %}

{% block content %}
	<div class="container-fluid" id="main">
		<div class="row row-offcanvas row-offcanvas-left">
			<!--Main col starts/-->
			<div class="col main">
			
				<!--Alert Div/--> 				
				<div class="alert alert-warning fade collapse" role="alert" id="myAlert">
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">Ã—</span>
						<span class="sr-only">Close</span>
					</button>
					<strong>Holy guacamole!</strong> This is an example of an alert.
				</div>
				<!--/Alert Div-->
				
				<!--START ASSOCIATE DASHBOARD INFO/-->	
				<div class="container-fluid">				
					<div class="row">			
						<div class="col-xl-3 col-sm-6 py-2">
							<div class="card card-bg-color1 text-white h-100">
								<div class="card-body card-bg-color1">
									<div class="rotate">
										<i class="fas fa-user fa-5x"></i>
									</div>
									<h6 class="text-uppercase">My Open Cases</h6>
									<h1 class="display-4">{{ cardValues.0 }}</h1>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 py-2">
							<div class="card text-white card-bg-color2 h-100">
								<div class="card-body card-bg-color2">
									<div class="rotate">
										<i class="fas fa-user-friends fa-5x"></i>
									</div>
									<h6 class="text-uppercase">Team Open Cases</h6>
									<h1 class="display-4">{{ cardValues.1 }}</h1>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 py-2">
							<div class="card text-white card-bg-color3 h-100">
								<div class="card-body card-bg-color3">
									<div class="rotate">
										<i class="fas fa-users fa-5x"></i>
									</div>
									<h6 class="text-uppercase">All HR Open Cases</h6>
									<h1 class="display-4">{{ cardValues.2 }}</h1>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 py-2">
							<div class="card text-white card-bg-color4 h-100">
								<div class="card-body card-bg-color4">
									<div class="rotate">
										<i class="fas fa-suitcase fa-5x"></i>
									</div>
									<h6 class="text-uppercase">Team YTD Case Total </h6>
									<h1 class="display-4">{{ cardValues.3 }}</h1>
								</div>
							</div>
						</div>				
					</div>
				</div>
				<!--/row-->
				<hr>
				<div class="container-fluid">				
					<div class="row">
						<div class="col">
							<div class="card card-inverse card-success text-center">
								<div class="card-body2">
									<h6 class="text-uppercase">my case percentage within sla</h6>
									<div><canvas id="gaugeChart1"></canvas></div>
									<h6>{{ gaugeValues.0 }}%</h6>
								</div>
							</div>
						</div>
						<div class="col">						
							<div class="card card-inverse card-success text-center">
								<div class="card-body2">
									<h6 class="text-uppercase">my team's case percentage within sla</h6>
									<div><canvas id="gaugeChart2"></canvas></div>
									<h6>{{ gaugeValues.1 }}%</h6>								
								</div>
							</div>
						</div>	
					</div>
				</div>			
				<!--/row-->	
			</div>
			<!--/main col ends-->
		</div>
	</div>
	<!--/.container-->
{% endblock %}

{% block gauge_script%}
	var opts = {
	  lines: 12,
	  angle: 0,
	  lineWidth: 0.4,
	  pointer: {
		length: 0.7,
		strokeWidth: 0.045,
		color: '#000000'
	  },
	  limitMax: 'false', 
	  percentColors: [[0.0, "#a9d70b" ], [0.50, "#f9c802"], [1.0, "#ff0000"]], 
	  strokeColor: '#E0E0E0',
	  generateGradient: true,
	  staticLabels: {
	  font: "10px sans-serif", 
	  labels: [0,20,40,60,80,100], 
	  color: "#000000", 
	  fractionDigits: 0 
		},
	  staticZones: [
	   {strokeStyle: "#F03E3E", min: 0, max: 80}, // Red 
	   {strokeStyle: "#FFDD00", min: 80, max: 90}, // Yellow
	   {strokeStyle: "#30B32D", min: 90, max: 100}, // Green
		],
	  renderTicks: {
		divisions: 5,
		divWidth: 1.1,
		divLength: 0.7,
		divColor: "#333333",
		subDivisions: 3,
		subLength: 0.5,
		subWidth: 0.6,
		subColor: "#666666"
	  },
	};

	var gaugeNums = {{ gaugeValues|safe }}

	var target1 = document.getElementById('gaugeChart1');
	var gauge1 = new Gauge(target1).setOptions(opts);
	gauge1.maxValue = 100;
	gauge1.animationSpeed = 32;
	gauge1.set(gaugeNums[0]);

	var target2 = document.getElementById('gaugeChart2');
	var gauge2 = new Gauge(target2).setOptions(opts);
	gauge2.maxValue = 100;
	gauge2.animationSpeed = 32;
	gauge2.set(gaugeNums[1]);
{% endblock %}
